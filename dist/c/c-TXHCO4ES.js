import{a as B,b as M}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-L2S2YMTF.js";import{a as b,g as w}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-PTOZSKV6.js";import{a as h,d as C}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-3GOT4LKE.js";import{B as p,C as d,D as m,E as g}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-U6WQ4G6W.js";import{a as _}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-7ZY2VSVL.js";import{b as r,c as V}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-DQFZXCVV.js";import{d as f,e as x}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-SLUQJE2K.js";import{a as c,d as P}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-4X7D5KOI.js";function L({thumbnailMode:e,thumbnailUrl:o,loop:a,videoUrl:i,playing:l,onLoaded:y,onPlay:k}){let s=(0,t.useRef)(null),n=e===!0,[u,v]=(0,t.useState)(!(f.isSafari()&&!n));return(0,t.useEffect)(()=>{l?(s.current?.play(),u||setTimeout(()=>v(!0),500)):s.current?.pause()},[l]),m(p,{children:[d(I,{ref:s,width:"100%",height:"100%",controls:!1,loop:!n&&a,muted:!0,playsInline:!n,poster:o,objectFit:"cover",onPlay:!n&&u?k:void 0,onLoadedMetadata:n?void 0:y,opacity:u?1:0,children:!n&&i?d("source",{src:i,type:"video/mp4"}):null}),!u&&d(B,{src:o,width:"100%",height:"100%",position:"absolute",left:0,objectFit:"cover"})]})}function W(e){let{model:o}=(0,t.useContext)(b);return d(L,{...e,...o})}var t,I,$=c(()=>{"use strict";C();M();t=P(_());x();w();g();I=h.withComponent("video")});function D(){let e=window.RM.config?.root;return!e||e==="/"?"":e.slice(-1)!=="/"?e+"/":e}function E(e){if(e.provider_name!=="self")return null;if(!r.readymag_videos_cdn)throw new Error("Videos CDN URL is not exists");let{isDownloadedSource:o=!1,homepageRewrite:a=!1}=typeof window<"u"?window.RM?.common||{}:{};if(o&&!a){let i=D();return{video:`${i}${e.url}`,thumbnail:`${i}${e.thumbnail_url}`}}return{video:`${r.readymag_videos_cdn}/${e.url}`,thumbnail:`${r.readymag_videos_cdn}/${e.thumbnail_url}`}}function H(e){return e?e.type!=="video/mp4"?"We support only .mp4 format":e.size>r.VIDEOS_BACKGROUND_UPLOAD_SIZE_LIMIT?`Video file size must be less than ${Math.floor(r.VIDEOS_BACKGROUND_UPLOAD_SIZE_LIMIT/1024/1024)} mb`:null:"No suitable file to upload. Please use video file."}function R(e){return!!(e&&e.provider_name==="self")}function K(e){let o=e?.video;if(o)return R(o)?E(o)?.thumbnail:o.thumbnail_url}var S=c(()=>{"use strict";V()});export{L as a,W as b,$ as c,E as d,H as e,R as f,K as g,S as h};
