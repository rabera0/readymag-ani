import{a as d}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-CY2FEJLT.js";import{a as h,b as c}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-XSZKGKVK.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-5EGHSVLS.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-MWOSWUM3.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-S2UTM4FX.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-D6J5HC4D.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-URFCP7B2.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-IWCOVASN.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-CQ3QLQK5.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-YM5H3BT6.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-MVDJARLS.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-T6TN5YO4.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-W5OZJVNV.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-PTOZSKV6.js";import{a,b as u}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-VFT6TNFZ.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-B3M5K37N.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-PSGGD2IQ.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-LUPS5IAT.js";import{a as o,b as w}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-WEREZOGV.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-A23WIZTM.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-CXA7FWYL.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-ZWSDUWXW.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-GDSGTKKB.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-6P4KCQ22.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-SHJ7QGQT.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-CYBVJMMN.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-UMLFVHKK.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-FFSQZJFP.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-C3SKTX2K.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-Z4COXDDT.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-6KVCTNLD.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-O4L6L2GG.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-VMLLFM4X.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-BDTBHKNZ.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-LA3FLWVR.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-U6WQ4G6W.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-7ZY2VSVL.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-VPHMCDHS.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-5JZ2YWXB.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-DQFZXCVV.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-H3ZPPNIG.js";import{b as m}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-S4OSB3PN.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-KI5HOILD.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-IJGABWID.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-CD44EXNS.js";import"https://st-p.rmcdn.net/a09f30ec/dist/c/c-SLUQJE2K.js";import{d as _}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-4X7D5KOI.js";var i=_(m());u();w();c();var p=d.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-twitter"),this.rendered=!0;let e,t;return this.current_type?(t=this[this.current_type],t.use_own_url==="mag"?t.url=this.page.mag.getUrl():(t.use_own_url==="page"||!t.url)&&(t.url=this.page.getUrl()),RM.screenshot||(t.text=a.getFinalShare(this.page,i.default.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:t.use_own_url==="mag",customDomain:RM.common.isDomainViewer}).tweet),e=h["template-constructor-block-twitter-"+this.current_type],this.$el.html(e(t)),this.current_type==="type_timeline"&&this.$el.find("a").attr({width:this.w,height:this.h}),o.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.default.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.default)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){let e,t=0,r,n=!1,s,l={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(e),e=setInterval(i.default.bind(function(){if(t++,this.destroyed){clearInterval(e);return}r=this.$el.find("iframe"),r.length==1&&(s=l[this.current_type],n=r.contents().find(s).length>0),(n||t>this.CONTENT_WAIT_MAX_TICKS)&&(this.current_type=="type_embed"&&r.css({margin:0,"max-width":"100%"}),this.current_type=="type_timeline"&&r.css({width:"100%",height:"100%!important","max-width":"100%"}),clearInterval(e),setTimeout(i.default.bind(function(){this.widgetIsLoaded()},this),this.CONTENT_IMG_WAIT))},this),this.CONTENT_WAIT_TICK)}}),y=p;export{y as default};
