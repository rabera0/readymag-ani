import{a as rt,b as Mt}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-FWO3KNVK.js";import{a as V,b as gt}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-ZWSDUWXW.js";import{r as ot,t as nt,v as Tt}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-6KVCTNLD.js";import{C as L,E as ht}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-U6WQ4G6W.js";import{a as et}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-7ZY2VSVL.js";import{a as x,d as tt}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-4X7D5KOI.js";var wt,At,Pt,Et=x(()=>{"use strict";Tt();ht();wt=t=>L("svg",{width:24,height:24,viewBox:"0 0 61 61",xmlns:"http://www.w3.org/2000/svg",role:"img",...t,children:L("path",{d:"M56.214 37.32L11.555 59.471A8 8 0 010 52.305V8A8 8 0 0111.555.833l44.659 22.153a8 8 0 010 14.333z",fill:"currentColor",fillRule:"evenodd"})}),At=nt.withComponent(ot(wt)`
  display: block;
`),Pt=At});function C(t,n){let a=`atom${++bt}`,p={toString:()=>a};return typeof t=="function"?p.read=t:(p.init=t,p.read=function(l){return l(this)},p.write=function(l,m,T){return m(this,typeof T=="function"?T(l(this)):T)}),n&&(p.write=n),p}var bt,q,$,k,yt,it,st,ut,_t,P,ct,R,Vt,j,ft,G,lt,H=x(()=>{"use strict";bt=0;q=t=>"init"in t,$=t=>!!t.write,k=new WeakMap,yt=(t,n)=>{k.set(t,n),t.catch(()=>{}).finally(()=>k.delete(t))},it=(t,n)=>{let a=k.get(t);a&&(k.delete(t),a(n))},st=(t,n)=>{t.status="fulfilled",t.value=n},ut=(t,n)=>{t.status="rejected",t.reason=n},_t=t=>typeof t?.then=="function",P=(t,n)=>!!t&&"v"in t&&"v"in n&&Object.is(t.v,n.v),ct=(t,n)=>!!t&&"e"in t&&"e"in n&&Object.is(t.e,n.e),R=t=>!!t&&"v"in t&&t.v instanceof Promise,Vt=(t,n)=>"v"in t&&"v"in n&&t.v.orig&&t.v.orig===n.v.orig,j=t=>{if("e"in t)throw t.e;return t.v},ft=()=>{let t=new WeakMap,n=new WeakMap,a=new Map,p,l;(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&(p=new Set,l=new Set);let m=e=>t.get(e),T=(e,r)=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&Object.freeze(r);let s=t.get(e);if(t.set(e,r),a.has(e)||a.set(e,s),R(s)){let o="v"in r?r.v instanceof Promise?r.v:Promise.resolve(r.v):Promise.reject(r.e);s.v!==o&&it(s.v,o)}},g=(e,r,s)=>{let o=new Map,u=!1;s.forEach((f,i)=>{!f&&i===e&&(f=r),f?(o.set(i,f),r.d.get(i)!==f&&(u=!0)):(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(u||r.d.size!==o.size)&&(r.d=o)},M=(e,r,s)=>{let o=m(e),u={d:o?.d||new Map,v:r};if(s&&g(e,u,s),P(o,u)&&o.d===u.d)return o;if(R(o)&&R(u)&&Vt(o,u)){if(o.d===u.d)return o;u.v=o.v}return T(e,u),u},b=(e,r,s,o)=>{if(_t(r)){let u,f=()=>{let c=m(e);if(!R(c)||c.v!==i)return;let v=M(e,i,s);n.has(e)&&c.d!==v.d&&Z(e,v,c.d)},i=new Promise((c,v)=>{let d=!1;r.then(S=>{d||(d=!0,st(i,S),c(S),f())},S=>{d||(d=!0,ut(i,S),v(S),f())}),u=S=>{d||(d=!0,S.then(w=>st(i,w),w=>ut(i,w)),c(S))}});return i.orig=r,i.status="pending",yt(i,c=>{c&&u(c),o?.()}),M(e,i,s)}return M(e,r,s)},h=(e,r,s)=>{let o=m(e),u={d:o?.d||new Map,e:r};return s&&g(e,u,s),ct(o,u)&&o.d===u.d?o:(T(e,u),u)},A=(e,r)=>{let s=m(e);if(!r&&s&&(n.has(e)||Array.from(s.d).every(([d,S])=>{if(d===e)return!0;let w=A(d);return w===S||P(w,S)})))return s;let o=new Map,u=!0,f=d=>{if(d===e){let w=m(d);if(w)return o.set(d,w),j(w);if(q(d))return o.set(d,void 0),d.init;throw new Error("no atom init")}let S=A(d);return o.set(d,S),j(S)},i,c,v={get signal(){return i||(i=new AbortController),i.signal},get setSelf(){return(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!$(e)&&console.warn("setSelf function cannot be used with read-only atom"),!c&&$(e)&&(c=(...d)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&u&&console.warn("setSelf function cannot be called in sync"),!u)return U(e,...d)}),c}};try{let d=e.read(f,v);return b(e,d,o,()=>i?.abort())}catch(d){return h(e,d,o)}finally{u=!1}},y=e=>j(A(e)),D=e=>{let r=n.get(e);return r||(r=W(e)),r},_=(e,r)=>!r.l.size&&(!r.t.size||r.t.size===1&&r.t.has(e)),I=e=>{let r=n.get(e);r&&_(e,r)&&J(e)},O=e=>{let r=new Map,s=new WeakMap,o=i=>{var c;let v=new Set((c=n.get(i))==null?void 0:c.t);return a.forEach((d,S)=>{var w;(w=m(S))!=null&&w.d.has(i)&&v.add(S)}),v},u=i=>{o(i).forEach(c=>{c!==i&&(r.set(c,(r.get(c)||new Set).add(i)),s.set(c,(s.get(c)||0)+1),u(c))})};u(e);let f=i=>{o(i).forEach(c=>{var v;if(c!==i){let d=s.get(c);if(d&&s.set(c,--d),!d){let S=!!((v=r.get(c))!=null&&v.size);if(S){let w=m(c),vt=A(c,!0);S=!P(w,vt)}S||r.forEach(w=>w.delete(c))}f(c)}})};f(e)},N=(e,...r)=>{let s=!0,o=i=>j(A(i)),u=(i,...c)=>{let v;if(i===e){if(!q(i))throw new Error("atom not writable");let d=m(i),S=b(i,c[0]);P(d,S)||O(i)}else v=N(i,...c);if(!s){let d=z();(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&p.forEach(S=>S({type:"async-write",flushed:d}))}return v},f=e.write(o,u,...r);return s=!1,f},U=(e,...r)=>{let s=N(e,...r),o=z();return(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&p.forEach(u=>u({type:"write",flushed:o})),s},W=(e,r,s)=>{var o;let u=s||[];(o=m(e))==null||o.d.forEach((i,c)=>{let v=n.get(c);v?v.t.add(e):c!==e&&W(c,e,u)}),A(e);let f={t:new Set(r&&[r]),l:new Set};if(n.set(e,f),(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&l.add(e),$(e)&&e.onMount){let{onMount:i}=e;u.push(()=>{let c=i((...v)=>U(e,...v));c&&(f.u=c)})}return s||u.forEach(i=>i()),f},J=e=>{var r;let s=(r=n.get(e))==null?void 0:r.u;s&&s(),n.delete(e),(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&l.delete(e);let o=m(e);o?(R(o)&&it(o.v),o.d.forEach((u,f)=>{if(f!==e){let i=n.get(f);i&&(i.t.delete(e),_(f,i)&&J(f))}})):(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",e)},Z=(e,r,s)=>{let o=new Set(r.d.keys());s?.forEach((u,f)=>{if(o.has(f)){o.delete(f);return}let i=n.get(f);i&&(i.t.delete(e),_(f,i)&&J(f))}),o.forEach(u=>{let f=n.get(u);f?f.t.add(e):n.has(e)&&W(u,e)})},z=()=>{let e;for((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&(e=new Set);a.size;){let r=Array.from(a);a.clear(),r.forEach(([s,o])=>{let u=m(s);if(u){let f=n.get(s);f&&u.d!==o?.d&&Z(s,u,o?.d),f&&!(!R(o)&&(P(o,u)||ct(o,u)))&&(f.l.forEach(i=>i()),(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&e.add(s))}else(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&console.warn("[Bug] no atom state to flush")})}if((import.meta.env?import.meta.env.MODE:void 0)!=="production")return e},Q=(e,r)=>{let s=D(e),o=z(),u=s.l;return u.add(r),(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&p.forEach(f=>f({type:"sub",flushed:o})),()=>{u.delete(r),I(e),(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&p.forEach(f=>f({type:"unsub"}))}};return(import.meta.env?import.meta.env.MODE:void 0)!=="production"?{get:y,set:U,sub:Q,dev_subscribe_store:(e,r)=>{if(r!==2)throw new Error("The current StoreListener revision is 2.");return p.add(e),()=>{p.delete(e)}},dev_get_mounted_atoms:()=>l.values(),dev_get_atom_state:e=>t.get(e),dev_get_mounted:e=>n.get(e),dev_restore_atoms:e=>{for(let[s,o]of e)q(s)&&(b(s,o),O(s));let r=z();p.forEach(s=>s({type:"restore",flushed:r}))}}:{get:y,set:U,sub:Q}};(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&(typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__=="number"?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1);lt=()=>(G||((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&globalThis.__NUMBER_OF_JOTAI_INSTANCES__!==1&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),G=ft()),G)});function Ut(t,n){let a=at(n),[[p,l,m],T]=(0,E.useReducer)(b=>{let h=a.get(t);return Object.is(b[0],h)&&b[1]===a&&b[2]===t?b:[h,a,t]},void 0,()=>[a.get(t),a,t]),g=p;(l!==a||m!==t)&&(T(),g=a.get(t));let M=n?.delay;return(0,E.useEffect)(()=>{let b=a.sub(t,()=>{if(typeof M=="number"){setTimeout(T,M);return}T()});return T(),b},[a,t,M]),(0,E.useDebugValue)(g),Ot(g)?Dt(g):g}function B(t,n){let a=at(n);return(0,E.useCallback)((...l)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return a.set(t,...l)},[a,t])}function F(t,n){return[Ut(t,n),B(t,n)]}var E,It,at,Ot,Dt,dt=x(()=>{"use strict";E=tt(et(),1);H();It=(0,E.createContext)(void 0),at=t=>{let n=(0,E.useContext)(It);return t?.store||n||lt()},Ot=t=>typeof t?.then=="function",Dt=E.default.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(n=>{t.status="fulfilled",t.value=n},n=>{t.status="rejected",t.reason=n}),t)})});var K=x(()=>{"use strict";H();dt()});function pt(t,n){let a;function p(){typeof a=="function"&&a()}let l=C(t,(m,T,g)=>{let M=X(g)?g:g(m(l));T(l,M),p();let b=n(M);typeof b=="function"&&(a=b)});return l.onMount=()=>{let m=n(t);return typeof m=="function"&&(a=m),p},l}function X(t){return typeof t!="function"}var mt=x(()=>{"use strict";K()});function Y(t,n){return typeof n=="function"?pt(t,n):C(t)}function te(t,n,a){let p=typeof n<"u",l=p?Y(n,a):null;function m(){if(l===null)throw new V("The store has not been initialized. Please initialize it before use.",{name:t});return F(l)}function T(){if(l===null)throw new V("The store has not been initialized. Please initialize it before use.",{name:t});return B(l)}function g(M){l=Y(typeof M=="function"?M():M,a)}return p?{useStore:m,useSetState:T}:{initStore:g,useStore:m,useSetState:T}}function ee(t,n,a){let p=typeof n<"u",l=p?Y(n,a):null;function m(h,A,y){if(X(y))return{...A,[h]:y};{let D=typeof A[h]>"u"?{}:A[h],_=y(D);return{...A,[h]:_}}}function T(){if(l===null)throw new V("The store has not been initialized. Please initialize it before use.",{name:t});let[h,A]=F(l);function y(D,_){A(I=>m(D,I,_))}return[h,y]}function g(){if(l===null)throw new V("The store has not been initialized. Please initialize it before use.",{name:t});return B(l)}function M(h,A){if(l===null)throw new V("The store has not been initialized. Please initialize it before use.",{name:t});let y=(0,St.useMemo)(function(){return C(function(I){if(l===null)throw new V("The store has not been initialized. Please initialize it before use.",{name:t});let O=I(l)[h];return typeof O>"u"&&typeof A<"u"?A:rt(O)},function(I,O,N){if(l===null)throw new V("The store has not been initialized. Please initialize it before use.",{name:t});let U=I(l);O(l,m(h,U,N))})},[h]);return F(y)}function b(h){l=C(typeof h=="function"?h():h)}return p?{useStore:T,useItem:M,useSetState:g}:{initStore:b,useStore:T,useItem:M,useSetState:g}}var St,xt=x(()=>{"use strict";St=tt(et());Mt();K();gt();mt()});export{te as a,ee as b,xt as c,Pt as d,Et as e};
