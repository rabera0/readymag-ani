import{a as J}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-H3ZPPNIG.js";import{a as H,d as z}from"https://st-p.rmcdn.net/a09f30ec/dist/c/c-4X7D5KOI.js";var V,D,Q,K=H(()=>{"use strict";V=z(J());typeof window<"u"&&(window.iconSVGCache=[]);D=function(){};D.prototype={MAX_ICON_CACHE_SIZE:30,generateShapeSVG:function(b,l,w,q,k,x={}){let $=1e5,G=x?.bg_color||l.get("bg_color")||l.viewport_default&&l.viewport_default.bg_color,B=x?.bg_opacity||l.get("bg_opacity"),E=x?.color||l.get("color"),v=x?.opacity||l.get("opacity"),R=x?.borders||l.get("borders"),X=x?.radius||l.get("radius")||0,_=x.w||w,I=x.h||q,d=this.getRGBA(G||"ffffff",B),L=this.getRGBA(E,v),M;if(l.get("type")==="hotspot"?k=k||x?.pin_type||l.get("pin_type"):k=k||l.get("tp"),k=="ellipse"){var p=_/2,S=I/2,C=R,C=Math.min(C,p,S);let t=x.addToCaller?l.id+"_"+b+"_"+x.addToCaller:l.id+"_"+b;M=T("ellipse",{cx:p,cy:S,rx:p,ry:S},d,L,C,t,v)}if(k=="rectangle"||k=="polygon"){l.get("type")==="hotspot"&&(d="rgba(0, 0, 0, 0)",L=d);let t=k=="rectangle"?4:l.get("sides"),e=R,h=l.get("radius_rect_independent"),c={tlRadius:l.get("radius_rect_tl")||0,trRadius:l.get("radius_rect_tr")||0,blRadius:l.get("radius_rect_bl")||0,brRadius:l.get("radius_rect_br")||0},n=j(t,_,I,e),i=O(n),r,f;k==="rectangle"&&h?(r=Z(n,c,i),f=Y(c,r)):(r=N(n,X,i),f=F(n,r.points,r.radius));let s=x.addToCaller?l.id+"_"+b+"_"+x.addToCaller:l.id+"_"+b;M=T("path",{path:f},d,L,e,s,v)}if(k=="line"){let t=x?.weight||l.get("weight"),e=Math.round(I/2)+(t%2==1?.5:0),h="",c=[t*13/3,t*2/3].join(" "),n=t>1?[.001,t*5/3].join(" "):[1,2].join(" "),i=t===.5?"crispEdges":"auto",r=l.get("stroke")=="dotted"?t/2:0;if(h="M"+r+" "+e+" L"+_+" "+e,l.get("stroke")=="solid"&&(M=`<path d="${h}" style="fill: none; stroke: ${d}; stroke-width: ${t}" shape-rendering="${i}" />`),l.get("stroke")=="double"){let f="M"+r+" "+(e-t)+" L"+_+" "+(e-t),s="M"+r+" "+(e+t)+" L"+_+" "+(e+t);M=`<path d="${f}" style="fill: none; stroke: ${d}; stroke-width: ${t};" shape-rendering="${i}"/>`,M+=`<path d="${s}" style="fill: none; stroke: ${d}; stroke-width: ${t}" shape-rendering="${i}"/>`}l.get("stroke")=="dotted"&&(M=`<path d="${h}" stroke-linecap="round" stroke-dasharray="${n}" style="fill: none; stroke: ${d}; stroke-width: ${t}"  shape-rendering="${i}"/>`),l.get("stroke")=="dashed"&&(M=`<path d="${h}" stroke-dasharray="${c}" style="fill: none; stroke: ${d}; stroke-width: ${t}" shape-rendering="${i}"/>`)}if(k=="icon"){let t=this.iconData||this.current_icon_data;if(!t)return null;let e=t.$svg.clone();return e.css({width:"100%",height:"100%"}),d=this.getRGBA(G,1),e.find("*:not(.fixed-color)").each(function(){let h=(0,V.default)(this);h.css({fill:"","fill-opacity":""}),h.get(0).removeAttribute("fill"),h.get(0).removeAttribute("fill-opacity")}),e.get(0).setAttribute("fill",d),e.get(0).setAttribute("fill-opacity",B),e}return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+_+'px" height="'+I+'px">'+M+"</svg>";function T(t,e,h,c,n,i,r){let f="mask_"+i,s="clip_"+i,o="",y=2;return n>0&&r>.99&&(y=1),o="<defs>",n>0&&(o+='<mask id="'+f+'">',t=="path"&&(o+='<path d="'+e.path+'" style="fill:white; stroke:black; stroke-width:'+n*y+'"/>'),t=="ellipse"&&(o+='<ellipse cx="'+e.cx+'" cy="'+e.cy+'" rx="'+e.rx+'" ry="'+e.ry+'" style="fill:white; stroke:black; stroke-width:'+n*y+'"/>'),o+="</mask>"),o+='<clippath id="'+s+'">',t=="path"&&(o+='<path d="'+e.path+'"/>'),t=="ellipse"&&(o+='<ellipse cx="'+e.cx+'" cy="'+e.cy+'" rx="'+e.rx+'" ry="'+e.ry+'"/>'),o+="</clippath>",o+="</defs>",t=="path"&&(o+='<path mask="url(#'+f+')" d="'+e.path+'" style="fill:'+h+'; stroke:none; stroke-width:0; pointer-events: visiblePainted;"/>'),t=="ellipse"&&(o+='<ellipse mask="url(#'+f+')" cx="'+e.cx+'" cy="'+e.cy+'" rx="'+e.rx+'" ry="'+e.ry+'" style="fill:'+h+'; stroke:none; stroke-width:0; pointer-events: visiblePainted;"/>'),n==0||(t=="path"&&(o+='<path clip-path="url(#'+s+')" d="'+e.path+'" style="fill:none; stroke:'+c+"; stroke-width:"+n*2+'; pointer-events: visiblePainted;"/>'),t=="ellipse"&&(o+='<ellipse clip-path="url(#'+s+')" cx="'+e.cx+'" cy="'+e.cy+'" rx="'+e.rx+'" ry="'+e.ry+'" style="fill:none; stroke:'+c+"; stroke-width:"+n*2+'; pointer-events: visiblePainted;"/>')),o}function j(t,e,h){let c=2*Math.PI/t,n=Math.PI/2-(t%2==1?0:c/2),i=[],r,f,s,o=999999,y=-999999,u=999999,a=-999999;for(var g=0;g<t;g++)r=n+g*c,f=.5+.5*Math.cos(r),s=.5-.5*Math.sin(r),i.push({x:f,y:s}),f<o&&(o=f),f>y&&(y=f),s<u&&(u=s),s>a&&(a=s);for(var g=0;g<t;g++)i[g].x=(i[g].x-o)*(e/(y-o)),i[g].y=(i[g].y-u)*(h/(a-u)),i[g].x=Math.round(i[g].x*$)/$,i[g].y=Math.round(i[g].y*$)/$;return i}function O(t){if(!t)return 99999;let e=99999,h=t.length,c;for(let n=0;n<h;n++){let i=t[n].x-t[(n+1)%h].x,r=t[n].y-t[(n+1)%h].y;c=Math.sqrt(i*i+r*r),c<e&&(e=c),t[n].side=c}return e}function Z(t,{trRadius:e,tlRadius:h,blRadius:c,brRadius:n},i){return e=Math.min(e,i/2),h=Math.min(h,i/2),c=Math.min(c,i/2),n=Math.min(n,i/2),{trTop:{x:t[0].x-e,y:t[0].y},tlTop:{x:t[1].x+h,y:t[1].y},tlLeft:{x:t[1].x,y:t[1].y+h},blLeft:{x:t[2].x,y:t[2].y-c},blBottom:{x:t[2].x+c,y:t[2].y},brBottom:{x:t[3].x-n,y:t[3].y},brRight:{x:t[3].x,y:t[3].y-n},trRight:{x:t[0].x,y:t[0].y+e}}}function N(t,e,h){if(!t)return{};if(e<=1e-4)return{};let c=[],n=t.length;e=Math.min(e,h/2);for(let A=0;A<n;A++){var i=t[A],r=t[(A+1)%n],f=t[A].side,s=(r.x-i.x)/f,o=(r.y-i.y)/f,y,u,a,g;y=i.x+s*e,u=i.y+o*e,a=r.x-s*e,g=r.y-o*e,y=Math.round(y*$)/$,u=Math.round(u*$)/$,a=Math.round(a*$)/$,g=Math.round(g*$)/$,c.push({x:y,y:u}),c.push({x:a,y:g})}return{points:c,radius:e}}function Y(t,e){let{tlRadius:h,trRadius:c,brRadius:n,blRadius:i}=t,{trTop:r,tlTop:f,tlLeft:s,blLeft:o,blBottom:y,brBottom:u,brRight:a,trRight:g}=e;return`M ${r.x} 0
        L ${f.x} ${f.y}
        A ${h} ${h} 0 0 0 ${s.x} ${s.y}
        L ${o.x} ${o.y}
        A ${i} ${i} 0 0 0 ${y.x} ${y.y}
        L ${u.x} ${u.y}
        A ${n} ${n} 0 0 0 ${a.x} ${a.y}
        L ${g.x} ${g.y}
        A ${c} ${c} 0 0 0 ${r.x} ${r.y}
        Z`}function F(t,e,h){if(!t)return"";let c=t.length,n="";for(let i=0;i<c;i++){let r=i*2+1,f=(i*2+2)%(c*2);if(n+=i==0?"M":"L",e){n+=e[r].x+" "+e[r].y+" ";let s=e[r].x-e[f].x,o=e[r].y-e[f].y,y=(s*s+o*o)/4,u=1/y-1/(h*h),a=Math.sqrt(1/u);n+="A"+a+" "+a+" 0 0 0 "+e[f].x+" "+e[f].y+" "}else n+=t[i].x+" "+t[i].y+" "}return n+" Z "}},getRGBA:function(b,l){if(l==0)return"none";let w=[parseInt(b.substring(0,2),16),parseInt(b.substring(2,4),16),parseInt(b.substring(4,6),16)];return l>.99?"rgb("+w[0]+","+w[1]+","+w[2]+")":"rgba("+w[0]+","+w[1]+","+w[2]+", "+l+")"}};Q=D});export{Q as a,K as b};
